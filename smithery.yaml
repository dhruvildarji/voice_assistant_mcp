# Smithery.ai configuration for Voice Agent MCP Server
testConfig:
  defaultVoiceProvider: "vapi"
  vapiPublicKey: "test-vapi-key-12345"
  vapiAssistantId: "test-assistant-id-67890"
  vapiBaseUrl: "https://api.vapi.ai"
  openaiApiKey: "sk-test-openai-key-abcdef"
  openaiModel: "gpt-4o"
  openaiVoice: "alloy"

startCommand:
  type: remote_exec
  configSchema:
    type: object
    properties:
      serverUrl:
        type: string
        default: "http://localhost:3005"
        title: "Server URL"
        description: "URL of the remote MCP server"
      defaultVoiceProvider:
        type: string
        enum: ["vapi", "openai"]
        default: "vapi"
        title: "Default Voice Provider"
        description: "Default voice provider to use (vapi or openai)"
      openaiApiKey:
        type: string
        title: "OpenAI API Key"
        description: "OpenAI API key (required if using OpenAI provider)"
      vapiPublicKey:
        type: string
        title: "VAPI Public Key"
        description: "VAPI public key (required if using VAPI provider)"
      vapiAssistantId:
        type: string
        title: "VAPI Assistant ID"
        description: "VAPI assistant ID (required if using VAPI provider)"
      vapiBaseUrl:
        type: string
        default: "https://api.vapi.ai"
        title: "VAPI Base URL"
        description: "VAPI base URL"
      openaiModel:
        type: string
        default: "gpt-4o"
        title: "OpenAI Model"
        description: "OpenAI model to use"
      openaiVoice:
        type: string
        enum: ["alloy", "echo", "fable", "onyx", "nova", "shimmer"]
        default: "alloy"
        title: "OpenAI Voice"
        description: "OpenAI voice to use"
    required: ["serverUrl", "defaultVoiceProvider"]
  commandFunction: |
    (config) => {
      return {
        "command": "echo",
        "args": [
          "Connecting to remote MCP server at " + config.serverUrl
        ],
        "env": {
          "MCP_SERVER_URL": config.serverUrl,
          "DEFAULT_VOICE_PROVIDER": config.defaultVoiceProvider,
          "OPENAI_API_KEY": config.openaiApiKey || "",
          "VAPI_PUBLIC_KEY": config.vapiPublicKey || "",
          "VAPI_ASSISTANT_ID": config.vapiAssistantId || "",
          "VAPI_BASE_URL": config.vapiBaseUrl || "https://api.vapi.ai",
          "OPENAI_MODEL": config.openaiModel || "gpt-4o",
          "OPENAI_VOICE": config.openaiVoice || "alloy"
        }
      };
    }
